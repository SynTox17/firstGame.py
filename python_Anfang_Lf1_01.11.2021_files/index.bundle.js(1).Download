function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t,e){for(var n in e)t[n]=1;return t}function i(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n)}function r(t){t.parentNode.removeChild(t)}function o(t,e){for(;t.nextSibling&&t.nextSibling!==e;)t.parentNode.removeChild(t.nextSibling)}function a(t){return document.createElement(t)}function c(t){return document.createTextNode(t)}function l(t,e,n,i){t.addEventListener(e,n,i)}function h(t,e,n,i){t.removeEventListener(e,n,i)}function d(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function u(t,e){t.data=""+e}function f(){return Object.create(null)}function _(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function p(t,e){return t!=t?e==e:t!==e}function m(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1){var s=n[i];if(!s.__calling)try{s.__calling=!0,s.call(this,e)}finally{s.__calling=!1}}}function v(t){t._lock=!0,x(t._beforecreate),x(t._oncreate),x(t._aftercreate),t._lock=!1}function g(){return this._state}function b(t,e){t._handlers=f(),t._slots=f(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function y(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function x(t){for(;t&&t.length;)t.shift()()}function C(){this.store._remove(this)}var w={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:g,fire:m,on:y,set:function(t){this._set(e({},t)),this.root._lock||v(this.root)},_recompute:t,_set:function(t){var n=this._state,i={},s=!1;for(var r in t=e(this._staged,t),this._staged={},t)this._differs(t[r],n[r])&&(i[r]=s=!0);s&&(this._state=e(e({},n),t),this._recompute(i,this._state),this._bind&&this._bind(i,this._state),this._fragment&&(this.fire("state",{changed:i,current:this._state,previous:n}),this._fragment.p(i,this._state),this.fire("update",{changed:i,current:this._state,previous:n})))},_stage:function(t){e(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:_};function k(t,n){this._handlers={},this._dependents=[],this._computed=f(),this._sortedComputedProperties=[],this._state=e({},t),this._differs=n&&n.immutable?p:_}e(k.prototype,{_add(t,e){this._dependents.push({component:t,props:e})},_init(t){for(var e={},n=0;n<t.length;n+=1){var i=t[n];e["$"+i]=this._state[i]}return e},_remove(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set(t,n){var i=this._state;this._state=e(e({},i),t);for(var s=0;s<this._sortedComputedProperties.length;s+=1)this._sortedComputedProperties[s].update(this._state,n);this.fire("state",{changed:n,previous:i,current:this._state}),this._dependents.filter(t=>{for(var e={},i=!1,s=0;s<t.props.length;s+=1){var r=t.props[s];r in n&&(e["$"+r]=this._state[r],i=!0)}if(i)return t.component._stage(e),!0}).forEach(t=>{t.component.set({})}),this.fire("update",{changed:n,previous:i,current:this._state})},_sortComputedProperties(){var t,e=this._computed,n=this._sortedComputedProperties=[],i=f();function s(r){var o=e[r];o&&(o.deps.forEach(e=>{if(e===t)throw new Error("Cyclical dependency detected between ".concat(e," <-> ").concat(r));s(e)}),i[r]||(i[r]=!0,n.push(o)))}for(var r in this._computed)s(t=r)},compute(t,n,i){var s,r={deps:n,update:(e,r,o)=>{var a=n.map(t=>(t in r&&(o=!0),e[t]));if(o){var c=i.apply(null,a);this._differs(c,s)&&(s=c,r[t]=!0,e[t]=s)}}};this._computed[t]=r,this._sortComputedProperties();var o=e({},this._state),a={};r.update(o,a,!0),this._set(o,a)},fire:m,get:g,on:y,set(t){var e=this._state,n=this._changed={},i=!1;for(var s in t){if(this._computed[s])throw new Error("'".concat(s,"' is a read-only computed property"));this._differs(t[s],e[s])&&(n[s]=i=!0)}i&&this._set(t,n)}});var L=window.ContentareaSimpleBannerFeedbackConfiguration,N=new k(Object.assign({i18n:{},showContentAreaSimpleFeedback:""},L));var E={hide(t){this.set({visible:!1}),this.fire("hidden",{event:t})},show(t){t&&this.set(t),this.set({visible:!0})}};function S(t,e){var n,o,l,h,d,u,f,_,p,m=t._slotted.default,v=e.text&&T(t,e),g=e.html&&B(t,e),b=e.closable&&V(t,e);return{c(){n=a("div"),o=a("div"),l=c("\n            "),h=a("span"),v&&v.c(),d=c("\n                "),g&&g.c(),u=c("\n                "),_=c("\n            "),b&&b.c(),o.className="prom-banner__icon",h.className="prom-banner__message",n.className=p="prom-banner prom-banner--"+e.type},m(t,e){s(t,n,e),i(n,o),i(n,l),i(n,h),v&&v.m(h,null),i(h,d),g&&g.m(h,null),i(h,u),m&&(i(h,f||(f=document.createComment(""))),i(h,m)),i(n,_),b&&b.m(n,null)},p(e,i){i.text?v?v.p(e,i):((v=T(t,i)).c(),v.m(h,d)):v&&(v.d(1),v=null),i.html?g?g.p(e,i):((g=B(t,i)).c(),g.m(h,u)):g&&(g.d(1),g=null),i.closable?b?b.p(e,i):((b=V(t,i)).c(),b.m(n,null)):b&&(b.d(1),b=null),e.type&&p!==(p="prom-banner prom-banner--"+i.type)&&(n.className=p)},d(t){t&&r(n),v&&v.d(),g&&g.d(),m&&function(t,e){for(;t.nextSibling;)e.appendChild(t.nextSibling)}(f,m),b&&b.d()}}}function T(t,e){var n;return{c(){n=c(e.text)},m(t,e){s(t,n,e)},p(t,e){t.text&&u(n,e.text)},d(t){t&&r(n)}}}function B(t,e){var n,i;return{c(){n=a("noscript"),i=a("noscript")},m(t,r){s(t,n,r),n.insertAdjacentHTML("afterend",e.html),s(t,i,r)},p(t,e){t.html&&(o(n,i),n.insertAdjacentHTML("afterend",e.html))},d(t){t&&(o(n,i),r(n),r(i))}}}function V(t,e){var n,o,d;function f(e){t.hide(e)}return{c(){n=a("button"),o=a("span"),d=c(e.closeText),o.className="prom-banner__close-text",l(n,"click",f),n.type="button",n.className="prom-banner__close"},m(t,e){s(t,n,e),i(n,o),i(o,d)},p(t,e){t.closeText&&u(d,e.closeText)},d(t){t&&r(n),h(n,"click",f)}}}function A(t){var n,i,o,c;b(this,t),this._state=e({alert:!1,visible:!1,text:null,close:null,type:"info",closable:!0},t.data),this._recompute({close:1,alert:1},this._state),this._intro=!0,this._slotted=t.slots||{},this._fragment=(n=this,i=this._state,c=i.visible&&S(n,i),{c(){o=a("div"),c&&c.c(),o.className="prom-banner__live-region",d(o,"aria-live",i.ariaLive),d(o,"role",i.role),d(o,"aria-atomic","true")},m(t,e){s(t,o,e),c&&c.m(o,null)},p(t,e){e.visible?c?c.p(t,e):((c=S(n,e)).c(),c.m(o,null)):c&&(c.d(1),c=null),t.ariaLive&&d(o,"aria-live",e.ariaLive),t.role&&d(o,"role",e.role)},d(t){t&&r(o),c&&c.d()}}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}e(A.prototype,w),e(A.prototype,E),A.prototype._recompute=function(t,e){t.close&&this._differs(e.closeText,e.closeText=function(t){var{close:e}=t;return e||console.warn("Banner close text is required but not included!")}(e))&&(t.closeText=!0),t.alert&&(this._differs(e.ariaLive,e.ariaLive=function(t){var{alert:e}=t;return e?null:"polite"}(e))&&(t.ariaLive=!0),this._differs(e.role,e.role=function(t){var{alert:e}=t;return e?"alert":"status"}(e))&&(t.role=!0))};var P={handleBannerClosed(){this.set({isVisible:!1,message:""}),window.setIframeDefaultHeight()},handleClick(t){t.target.classList.contains("simple-feedback__hide-on-click")&&this.handleBannerClosed()}};function j(){!function(t,e,n,i){t.addEventListener("message",s=>{if((!i||s.origin===t.location.origin)&&s.data)try{var r=JSON.parse(s.data);r&&r.messageName&&r.messageName===e&&n(r)}catch(t){}})}(window,this.store.get().showContentAreaSimpleFeedback,t=>{var{isVisible:e,message:n,type:i}=t.extendedData;this.set({isVisible:e,message:n,type:i})},!0)}function O(t){b(this,t),this.refs={},this._state=e(e(this.store._init(["i18n"]),{isVisible:!1,message:"",type:"success"}),t.data),this.store._add(this,["i18n"]),this._intro=!0,this._handlers.destroy=[C],this._fragment=function(t,e){var n,i={close:e.$i18n.close,visible:e.isVisible,type:e.type,closable:"true",html:e.message},o=new A({root:t.root,store:t.store,slots:{default:document.createDocumentFragment()},data:i});function c(e){t.handleClick(e)}return o.on("hidden",(function(e){t.handleBannerClosed()})),t.refs.banner=o,{c(){n=a("div"),o._fragment.c(),l(n,"click",c),n.className="itsl-simple-feedback"},m(t,e){s(t,n,e),o._mount(n,null)},p(t,e){var n={};t.$i18n&&(n.close=e.$i18n.close),t.isVisible&&(n.visible=e.isVisible),t.type&&(n.type=e.type),t.message&&(n.html=e.message),o._set(n)},d(e){e&&r(n),o.destroy(),t.refs.banner===o&&(t.refs.banner=null),h(n,"click",c)}}}(this,this._state),this.root._oncreate.push(()=>{j.call(this),this.fire("update",{changed:n({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),v(this))}e(O.prototype,w),e(O.prototype,P),document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("simple-bannerfeedback");if(!t)return;new O({target:t,store:N})}));
//# sourceMappingURL=index.bundle.js.map
